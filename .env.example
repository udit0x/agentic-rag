# Environment Configuration for Agentic RAG Application

# =============================================================================
# AZURE OPENAI CONFIGURATION (REQUIRED)
# =============================================================================
# Get these from Azure Portal > Azure OpenAI Service
AZURE_OPENAI_API_KEY=your_azure_openai_api_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.cognitiveservices.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o
AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME=text-embedding-3-large

# =============================================================================
# AZURE COGNITIVE SEARCH CONFIGURATION (REQUIRED)
# =============================================================================
# Get these from Azure Portal > Azure Cognitive Search
AZURE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
AZURE_SEARCH_API_KEY=your_azure_search_api_key_here
AZURE_SEARCH_INDEX_NAME=rag-documents

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Options: sqlite, postgresql
DB_TYPE=postgresql

# SQLite Configuration (used when DB_TYPE=sqlite)
# DB_PATH=./data/local.sqlite

# PostgreSQL Configuration (used when DB_TYPE=postgresql)
DB_HOST=your-db-host.postgres.database.azure.com
DB_PORT=5432
DB_NAME=your_database_name
DB_USER=your_db_username
DB_PASSWORD=your_db_password
DATABASE_URL=postgresql://username:password@host:5432/dbname?sslmode=require

# Example cloud providers:
# Azure: postgresql://username:password@host.postgres.database.azure.com:5432/dbname?sslmode=require
# Neon: postgresql://username:password@ep-xxx.us-east-1.aws.neon.tech/dbname?sslmode=require
# Supabase: postgresql://postgres:password@db.project.supabase.co:5432/postgres
# Railway: postgresql://postgres:password@containers-us-west-xxx.railway.app:5432/railway

# =============================================================================
# AZURE DOCUMENT INTELLIGENCE (OPTIONAL - for OCR processing)
# =============================================================================
# Get these from Azure Portal > Document Intelligence
AZURE_DOCUMENT_INTELLIGENCE_ENDPOINT=https://your-doc-intelligence.cognitiveservices.azure.com/
AZURE_DOCUMENT_INTELLIGENCE_KEY=your_document_intelligence_key_here

# =============================================================================
# ENVIRONMENT & DEPLOYMENT
# =============================================================================
NODE_ENV=development
ENV=development

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Server ports
PORT=3000                    # Express server port
PYTHON_API_PORT=8000        # Python FastAPI server port
VITE_PORT=5173              # Vite dev server port (development only)

# =============================================================================
# API URLs (for multi-service architecture)
# =============================================================================
# Development defaults
PYTHON_BACKEND_URL=http://localhost:8000
EXPRESS_BACKEND_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5000

# VITE Frontend Environment Variables (must be prefixed with VITE_)
VITE_API_BASE_URL=http://localhost:3000
VITE_PYTHON_API_URL=http://localhost:8000

# Production URLs (uncomment and update for deployment)
# PYTHON_BACKEND_URL=https://your-python-api.azurewebsites.net
# EXPRESS_BACKEND_URL=https://your-express-api.azurewebsites.net
# FRONTEND_URL=https://your-frontend.azurestaticapps.net
# VITE_API_BASE_URL=https://your-express-api.azurewebsites.net
# VITE_PYTHON_API_URL=https://your-python-api.azurewebsites.net

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5000,http://localhost:5173,http://localhost:3000,http://127.0.0.1:5000,http://127.0.0.1:5173,http://127.0.0.1:8000

# Production CORS (update with your actual domains)
# CORS_ORIGINS=https://your-frontend.azurestaticapps.net,https://your-custom-domain.com

# =============================================================================
# CLERK AUTHENTICATION (REQUIRED)
# =============================================================================
# Get these keys from: https://dashboard.clerk.com/
VITE_CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key_here
CLERK_PUBLISHABLE_KEY=pk_test_your_clerk_publishable_key_here
CLERK_SECRET_KEY=sk_test_your_clerk_secret_key_here

# =============================================================================
# CONFIGURATION ENCRYPTION (REQUIRED - KEEP THESE SECRET!)
# =============================================================================
# Generate strong, unique values for production
# These are used to encrypt API keys stored in the database
CONFIG_PASSWORD=change_this_to_a_strong_unique_password_for_production
CONFIG_SALT=change_this_to_a_strong_unique_salt_for_production

# Alternative: Use a pre-generated Fernet key (32 bytes, base64 encoded)
# CONFIG_MASTER_KEY=your-fernet-key-here

# =============================================================================
# PERFORMANCE & OPTIMIZATION
# =============================================================================
# Enable database performance optimizations
ENABLE_DB_OPTIMIZATIONS=true

# Enable debug logging for database operations
DEBUG_DB=false

# =============================================================================
# FEATURES (OPTIONAL)
# =============================================================================
ENABLE_ANALYTICS=true
ENABLE_TRACING=true
ENABLE_FILE_UPLOAD=true
ENABLE_MULTI_USER=false

# =============================================================================
# FILE UPLOAD LIMITS (OPTIONAL)
# =============================================================================
MAX_FILE_SIZE=10485760      # 10MB in bytes
MAX_FILES=100
MAX_CHUNK_SIZE=1000

# =============================================================================
# SQLITE PERFORMANCE (OPTIONAL - only used when DB_TYPE=sqlite)
# =============================================================================
SQLITE_WAL_MODE=true
SQLITE_CACHE_SIZE=1000000
DB_CONNECTION_POOL_SIZE=10

# =============================================================================
# SECURITY (OPTIONAL)
# =============================================================================
SESSION_SECRET=change_this_session_secret_in_production
CORS_ORIGIN=http://localhost:5000

# =============================================================================
# LOGGING (OPTIONAL)
# =============================================================================
LOG_LEVEL=info
ENABLE_QUERY_LOGGING=true
ENABLE_PERFORMANCE_LOGGING=true
